<teleport to="body">
    <div class="modal fade" id="viewproduction" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">View Production Logs</h5>
                    <button type="button" data-dismiss="modal" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
                </div>
                <div class="modal-body">
                    <table class="table table-hover table-bordered">
                        <thead>
                        <tr>
                            <th>No</th>
                            <th  class="text-center">No of Bags</th>
                            <th  class="text-center">Quantity Produced</th>
                            <th  class="text-center">Rough</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr v-for="(item, index) in logItems">
                            <td>{{ index + 1 }}</td>
                            <td  class="text-center">{{ item.bags }} Bag(s) of Flour</td>
                            <td class="text-center">{{ item.quantity }}</td>
                            <td  class="text-center">{{ item.rough }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">

                </div>
            </div>
        </div>
    </div>
</teleport>


<div class="row invoice layout-top-spacing layout-spacing apps-invoice">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="doc-container">
            <div class="row">
                <div class="col-xl-9">
                    <div class="invoice-container">
                        <div class="invoice-inbox">
                            <div id="ct" class="">
                                <div class="invoice-00001">
                                    <div class="content-section">

                                        <div class="inv--head-section inv--detail-section">
                                            <div class="row">
                                                <div class="col-sm-6 col-12 me-auto">
                                                    <div class="d-flex">
                                                        <img class="company-logo" src="data:image/png;base64,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" alt="company" />
                                                        <h3 class="in-heading align-self-center">Production Information - {{ id }}#</h3>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="container">

                                            <div class="inv--detail-section inv--customer-detail-section">

                                                <div class="row mt-5">

                                                    <div class="col-xl-8 col-lg-7 col-md-6 col-sm-4 align-self-center">
                                                        <p class="inv-to">Basic Information</p>
                                                    </div>

                                                    <div class="col-xl-4 col-lg-5 col-md-6 col-sm-8 align-self-center order-sm-0 order-1 inv--payment-info">
                                                        <h6 class="inv-title">Purchase info:</h6>
                                                    </div>


                                                    <div class="col-xl-8 col-lg-7 col-md-6 col-sm-4">

                                                        <p class="inv-customer-name">Name : {{ name }}</p>

                                                        <p class="inv-customer-name"> Remark: {{ remark }}</p>

                                                        <p class="inv-customer-name"> Status: {{ production.status.name }}</p>

                                                    </div>

                                                    <div class="col-xl-4 col-lg-5 col-md-6 col-sm-8 col-12 order-sm-0 order-1">
                                                        <div class="inv--payment-info">
                                                            <p>
                                                                <span class="inv-subtitle">Date:</span> <span>{{ date }}</span>
                                                            </p>

                                                            <p>
                                                                <span class="inv-subtitle">Time:</span> <span>{{ time }}</span>
                                                            </p>
                                                            <p>
                                                                <span class="inv-subtitle">Created by:</span> <span>{{ production.created_by.name }}</span>
                                                            </p>
                                                            <p>
                                                                <span class="inv-subtitle">Completed by:</span> <span>{{ production?.completed_by?.name }}</span>
                                                            </p>
                                                        </div>
                                                    </div>


                                                </div>



                                            </div>

                                            <div class="container">
                                                <h5>Material List</h5>
                                                <div class="inv--product-table-section">
                                                    <div class="table-responsive">
                                                        <table class="table table-striped table-striped table-bordered">
                                                            <thead>
                                                            <tr>
                                                                <th class="text-start">Material Name</th>
                                                                <th class="text-center">Quantity</th>
                                                                <th class="text-center">Cost Price</th>
                                                                <th class="text-end">Total</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr v-for="(materialItem, index) in materialItems">
                                                                <td class="text-left">{{ (materialItem.name) }}</td>
                                                                <td class="text-center">{{ (materialItem.quantity) }}</td>
                                                                <td class="text-center">{{ $currency(materialItem.cost_price) }}</td>
                                                                <td class="text-end">{{ $currency((materialItem.cost_price * materialItem.quantity))  }}</td>
                                                            </tr>
                                                            </tbody>
                                                            <tfoot>
                                                            <tr>
                                                                <td></td>
                                                                <td></td>
                                                                <td class="text-end">Total</td>
                                                                <td class="text-end" id="total_po">{{ $currency(material_total) }}</td>
                                                            </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>
                                                <br/>
                                                <h5>Product List</h5>
                                                <div class="inv--product-table-section">
                                                    <div class="table-responsive">
                                                        <table class="table table-striped table-striped table-bordered">
                                                            <thead>
                                                            <tr>
                                                                <th class="text-start">Product Name</th>
                                                                <th class="text-center">Selling Price</th>
                                                                <th class="text-center">Est. Quantity</th>
                                                                <th class="text-end">Est. Total</th>
                                                                <th class="text-center">Actual Quantity</th>
                                                                <th class="text-end">Actual Total</th>
                                                                <th class="text-end">Action</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr v-for="(product_item, index) in product_Items">
                                                                <td class="text-left">{{ (product_item.name) }}</td>
                                                                <td class="text-center">{{ $currency(product_item.selling_price) }}</td>
                                                                <td class="text-center">{{ (product_item.estimate_quantity) }}</td>
                                                                <td class="text-end">{{ $currency((product_item.selling_price * product_item.estimate_quantity))  }}</td>
                                                                <td class="text-center">{{ (product_item.quantity) }}</td>
                                                                <td class="text-end">{{ $currency((product_item.selling_price * product_item.quantity))  }}</td>
                                                                <td class="text-end">
                                                                    <button @click="viewLog(product_item.id)"  class="btn-sm btn-success btn" > View </button>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                            <tfoot>
                                                            <tr>
                                                                <td></td>
                                                                <td></td>
                                                                <td class="text-end">Ext. Total</td>
                                                                <td class="text-end" id="total_po">{{ $currency(extimate_product_total) }}</td>
                                                                <td class="text-end">Total</td>
                                                                <td class="text-end">{{ $currency(product_total) }}</td>
                                                            </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3">
                    <div class="invoice-actions-btn">
                        <div class="invoice-action-btn">
                            <div class="row">

                                <div class="col-xl-12 col-md-3 col-sm-6">
                                    <router-link v-if="$user.access.includes('/bakeryManager/productions/:id/edit') &&  production.status.name === 'Draft' " :to="{name : 'edit-productions', params: {id: id}}" class="btn btn-dark btn-edit">Edit</router-link>
                                </div>
                                <div class="col-xl-12 col-md-3 col-sm-6">
                                    <router-link v-if="$user.access.includes('/bakeryManager/productions/:id/complete') &&  production.status.name === 'Approved'" :to="{name : 'complete-productions', params: {id: id}}" class="mt-3 btn btn-primary btn-edit">Complete</router-link>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
